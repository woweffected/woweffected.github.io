!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(0);var i=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=null;return function(){var o=this,r=arguments,s=n&&!i,a=function(){return e.apply(o,r)};clearTimeout(i),i=setTimeout(a,t),s&&a()}},o=function(e,t){var n,i,o=!1;return function r(){if(o)return n=arguments,void(i=this);e.apply(this,arguments),o=!0,setTimeout(function(){o=!1,n&&(r.apply(i,n),n=i=null)},t)}};function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=100,c=200,u=100,f=new(function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,"resizeCallbacks",{}),a(this,"mouseMoveCallbacks",{}),a(this,"scrollCallbacks",{}),a(this,"onResize",i(function(e){t.callFuncList(t.resizeCallbacks,e)},c)),a(this,"onScroll",o(function(e){t.callFuncList(t.scrollCallbacks,e)},l)),a(this,"onMouseMove",o(function(e){t.callFuncList(t.mouseMoveCallbacks,e)},u)),window.addEventListener("scroll",this.onScroll),window.addEventListener("resize",this.onResize),window.addEventListener("mousemove",this.onMouseMove)}var t,n,f;return t=e,(n=[{key:"registerResizeCallback",value:function(e,t){this.resizeCallbacks[e]=t}},{key:"unregisterResizeCallback",value:function(e){delete this.resizeCallbacks[e]}},{key:"registerMouseMoveCallback",value:function(e,t){this.mouseMoveCallbacks[e]=t}},{key:"unregisterMouseMoveCallback",value:function(e){delete this.mouseMoveCallbacks[e]}},{key:"registerScrollCallback",value:function(e,t){this.scrollCallbacks[e]=t}},{key:"unregisterScrollCallback",value:function(e){delete this.scrollCallbacks[e]}},{key:"callFuncList",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];for(var o in e)"function"==typeof e[o]?e[o].apply(e,n):console.log(new Error("".concat(o," not a function. It is ").concat(r(e[o]))))}}])&&s(t.prototype,n),f&&s(t,f),e}());function h(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y={BURGER_BUTTON:".burger",MENU:".header__menu",PAGE_CONTENT:".page__content"},b="burger--active",p="header__menu--active",d="page__content--blured",g="page__content--masked",m=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),v(this,"isNavActive",!1),v(this,"onResize",function(){t.hideNav()}),f.registerResizeCallback("burgerResizeCallback",this.onResize),this.burger=document.querySelector(y.BURGER_BUTTON),this.menu=document.querySelector(y.MENU),this.pageContent=document.querySelector(y.PAGE_CONTENT),this.burger.addEventListener("click",function(){t.toggleNav()})}var t,n,i;return t=e,(n=[{key:"toggleNav",value:function(){this.isNavActive?this.hideNav():this.showNav()}},{key:"showNav",value:function(){this.burger.classList.add(b),this.menu.classList.add(p),this.pageContent.classList.add(d),this.pageContent.classList.add(g),this.isNavActive=!0}},{key:"hideNav",value:function(){this.burger.classList.remove(b),this.menu.classList.remove(p),this.pageContent.classList.remove(d),this.pageContent.classList.remove(g),this.isNavActive=!1}}])&&h(t.prototype,n),i&&h(t,i),e}();function k(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C={BACKGROUND:".section__background"},S=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),w(this,"styles",{}),w(this,"setTranslateY",function(){var e=window.scrollY,t=document.body.clientHeight,i=window.innerHeight,o=n.section.offsetHeight,r=n.section.getBoundingClientRect().top+e,s=r-i;s<0&&(s=0);var a=t-i,l=r+o;if(l>a&&(l=a),window.scrollY>=s&&window.scrollY<=l){var c=l-s,u=(n.bg.offsetHeight-n.section.offsetHeight)/c,f=-((e-s)*u-c*u/2);n.setStyles({translateY:f})}}),w(this,"onMouseMove",function(e){var t=e.screenX;if(!t)return null;n.setByMouseX(t)}),w(this,"onScroll",function(){n.setTranslateY()}),this.section=t,this.bg=this.section.querySelector(C.BACKGROUND),this.setBgSizes(),f.registerMouseMoveCallback(this.makeid(256),this.onMouseMove),f.registerScrollCallback(this.makeid(256),this.onScroll),this.setTranslateY(),this.setByMouseX(100)}var t,n,i;return t=e,(n=[{key:"setStyles",value:function(e){this.styles=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){w(e,t,n[t])})}return e}({},this.styles,e),this.applyStyles()}},{key:"applyStyles",value:function(){var e=this.styles,t=e.height,n=e.width,i=e.top,o=e.left,r=e.translateY,s=e.translateX,a=e.opacity,l=e.blur;this.bg.style.cssText="\n      filter: blur(".concat(l,"px);\n      height: ").concat(t,"px;\n      left: ").concat(o,"px;\n      opacity: ").concat(a,";\n      transform: translateY(").concat(r,"px) translateX(").concat(s,"px);\n      top: ").concat(i,"px;\n      width: ").concat(n,"px;\n    ")}},{key:"setBgSizes",value:function(){var e=1.2*this.section.offsetHeight,t=1.2*this.section.offsetWidth,n=(this.section.offsetHeight-e)/2,i=(this.section.offsetWidth-t)/2;this.setStyles({height:e,left:i,top:n,width:t})}},{key:"setByMouseX",value:function(e){var t=this.section.offsetWidth/2,n=(t-e)/t,i=this.getTranslateX(n),o=this.getBlur(n),r=this.getOpacity(n);this.setStyles({opacity:r,blur:o,translateX:i})}},{key:"getTranslateX",value:function(e){return(this.bg.offsetWidth-this.section.offsetWidth)*e*.1}},{key:"getBlur",value:function(e){return 20-20*Math.abs(e)+0}},{key:"getOpacity",value:function(e){return.6-.15-Math.abs(e)*(.6-.15)+.15}},{key:"makeid",value:function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=n.length,o=0;o<e;o++)t+=n.charAt(Math.floor(Math.random()*i));return t}}])&&k(t.prototype,n),i&&k(t,i),e}();new m,new S(document.querySelector(".section-1")),new S(document.querySelector(".section-3"))}]);